

{% extends 'base.html' %}



<!-- link -->
{% block link %}
<link href="https://releases.transloadit.com/uppy/v1.26.1/uppy.min.css" rel="stylesheet">
{% endblock link %}
<!-- link /-->


<!-- script -->
{% block script_upper %}
<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
<script src="{{ url_for('static', filename='/js/upload.js') }}" type="text/javascript"></script>
{% endblock script_upper %}
<!-- script /-->


{% block navbar %}
{{ super() }}
{% endblock navbar %}


{% block app_content %}

<div class="w-100 p-3">
<h1>New Post</h1>
</div>

<div class="w-100 p-3">
<div class="shadow-lg p-3 mb-1 bg-body rounded-3 border border-1">
<div class="card">
  <div class="card-header">
    Upload Files
  </div>
  <div class="card-body">
<div class="row">
  <div class="col-sm-6">
    <div class="card h-100" id="drag-drop-area">

<script src="https://releases.transloadit.com/uppy/v1.26.1/uppy.min.js"></script>
<script>
    var uppy = Uppy.Core()
    .use(Uppy.Dashboard, {
        inline: true,
        target: '#drag-drop-area'
    })
    .use(Uppy.Tus, {endpoint: 'https://tusd.tusdemo.net/files/'})

    uppy.on('complete', (result) => {
    console.log('Upload complete! We’ve uploaded these files:', result.successful)
    })
</script>


<!-- This pulls Uppy from our CDN. Alternatively use `npm i @uppy/robodog --save` -->
<!-- if you want smaller self-hosted bundles and/or to use modern JavaScript -->
<link href="//releases.transloadit.com/uppy/robodog/v1.6.7/robodog.min.css" rel="stylesheet">
<script src="//releases.transloadit.com/uppy/robodog/v1.6.7/robodog.min.js"></script>
<button id="browse">Select Files</button>
<script>
  document.getElementById('browse').addEventListener('click', function () {
    var uppy = window.Robodog.pick({
      providers: [ 'instagram', 'url', 'webcam', 'dropbox', 'google-drive', 'facebook', 'onedrive' ],
      waitForEncoding: true,
      params: {
        // To avoid tampering, use Signature Authentication
        auth: { key: '8462c1c6adaf439db8a7555df0f4ef8a' },
        template_id: '55ea2137430c4fb291123321c550812c'
      }
    }).then(function (bundle) {
      // Due to `waitForEncoding: true` this is fired after encoding is done.
      // Alternatively, set `waitForEncoding` to `false` and provide a `notify_url`
      // for Async Mode where your back-end receives the encoding results
      // so that your user can be on their way as soon as the upload completes.
      console.log(bundle.transloadit) // Array of Assembly Statuses
      console.log(bundle.results)     // Array of all encoding results
    }).catch(console.error)
  })
</script>


    </div>
  </div>
  <div class="col-sm-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title">Uploading guidelines</h5>
        <p class="card-text">
        You can upload your model as an archive (.zip or .rar preferred) or as separate files (.obj, .fbx, .stl, etc.).
        Add previews in .png or .jpeg file formats. 
        Simply drag & drop your model folder on this page to upload.
        </p>

        <ul class="list-unstyled">
  <li><h5>Requirements and recommendations:</h5></li>
  <li>
    <ul>
      <li>add wireframe previews</li>
      <li>all textures must be archived – otherwise they will show up as preview images</li>
      <li>archive large files for a smoother upload experience</li>
      <li>archive your model in a flat file structure</li>
      <li>single file size limit: 5.5 GB</li>
      <li>use the Latin alphabet for file names</li>
    </ul>
  </li>
</ul>

      </div>
    </div>
  </div>
</div>
  </div>
</div>
</div>
</div>

<div class="w-100 p-3">
<div class="shadow-lg p-3 mb-1 bg-body rounded-3 border border-1">
<form action="" method="POST" enctype="multipart/form-data">
{{ form.hidden_tag() }}

<div>
{% for error in form.title.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>

<div class="form-floating mb-3">
{{ form.title(class_="form-control", id="fTitle-1") }}
{{ form.title.label(for="fTitle-1") }}
</div>

<div>
{% for error in form.description.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>

<div class="form-floating mb-3">
{{ form.description(class_="form-control", id="fTextArea-1", 
                    **{'style':'height: 150px'}) }}
{{ form.description.label(for="fTextArea-1") }}
</div>

<div>
{% for error in form.category.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>

{# CATEGORY #}
<div class="input-group mb-3">
{{ form.category.label(class_="input-group-text", for="fSelect-1") }}
{{ form.category(class_="form-select", id="fSelect-1") }}
</div>

<div>
{% for error in form.featured_image.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>

<div class="input-group mb-3">
{{ form.featured_image.label(class_="input-group-text", for="fUplod-1") }}
{{ form.featured_image(class_="form-control", id="fUplod-1") }}
<button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
</div>

<div>
{% for error in form.detail_images.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>

<div class="input-group mb-3">
{{ form.detail_images.label(class_="input-group-text", for="fUplod-2") }}
{{ form.detail_images(class_="form-control", id="fUplod-2") }}
<button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
</div>

<div class="d-grid gap-2">
{{ form.submit(class_='btn btn-warning') }}
</div>

</form>
</div>
</div>

{% endblock app_content %}

