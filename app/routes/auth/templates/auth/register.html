

{% extends 'base.html' %}

{% block script_upper %}
<script>
var password = document.getElementById("password")
  , confirm_password = document.getElementById("confirm_password");

function validatePassword(){
  if(password.value != confirm_password.value) {
    confirm_password.setCustomValidity("Passwords Don't Match");
  } else {
    confirm_password.setCustomValidity('');
  }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;
</script>
{% endblock script_upper %}

{% block navbar %}
{{ super() }}
{% endblock navbar %}

{% block app_content %}
<div class="w-100 p-3">
<h1>Auth Page /register</h1>
</div>

<form action="{{ url_for('auth.register') }}" method="post">
<div class="w-100 p-3">
<div class="shadow-lg p-3 mb-5 bg-body rounded-3 border border-1">
<form action="{{ url_for('auth.register') }}" method="post">
  <div class="mb-3">
    {{ form.hidden_tag() }}
<div>
{% for error in form.username.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>
    {{ form.username.label(class_='form-label') }}
    {{ form.username(class_='form-control') }}
    <div id="emailHelp" class="form-text">[a-z A-Z and Space]</div>
  </div>
  <div class="mb-3">
<div>
{% for error in form.email.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>
    {{ form.email.label(class_='form-label') }}
    {{ form.email(class_='form-control') }}
    <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
  </div>
  <div class="mb-3">
<div>
{% for error in form.password.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>
    {{ form.password.label(class_='form-label') }}
    {{ form.password(class_='form-control') }}
  </div>
<div class="mb-3">
<div>
{% for error in form.confirm_password.errors %}
<span style="color: red;">[{{ error }}]</span>
{% endfor %}
</div>
    {{ form.confirm_password.label(class_='form-label') }}
    {{ form.confirm_password(class_='form-control') }}
  </div>
  <div class="d-grid gap-2">
    {{ form.submit(class_='btn btn-warning') }}
  </div>
</form>
</div>
<br/>
<p class="fs-6"><small>New User: </small><a href="{{ url_for('auth.login') }}" class="link-dark">Click to Login</a></p>
<p class="fs-6"><small>Forgot Your Password? </small><a href="#" class="link-dark">Click to Reset It</a></p>
</div>

{% endblock app_content %}